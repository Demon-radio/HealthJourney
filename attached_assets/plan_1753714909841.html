<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Your Profile | Training Club</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
           :root {
            --primary: #4a6bff;
            --secondary: #ff6b6b;
            --dark: #333;
            --light: #f5f5f5;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
            --female: #ff69b4;
            --rest: #9c27b0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .back-btn {
            position: absolute;
            left: 20px;
            top: 20px;
            background: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .logout-btn {
            position: absolute;
            right: 20px;
            top: 20px;
            background: var(--danger);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .back-to-plan-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            margin-bottom: 20px;
            font-weight: bold;
            display: block;
            width: 100%;
            text-align: center;
        }
        
        .user-info {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
        }
        
        .user-basic {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
        }
        
        .user-avatar.female {
            background-color: var(--female);
        }
        
        .user-stats {
            display: flex;
            gap: 30px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .plan-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        
        @media (max-width: 768px) {
            .plan-container {
                grid-template-columns: 1fr;
            }
        }
        
        .plan-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .plan-header {
            background-color: var(--primary);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .plan-header h2 {
            font-size: 1.5rem;
        }
        
        .plan-body {
            padding: 20px;
        }
        
        .plan-feature {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .plan-feature:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .feature-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #f0f4ff;
            color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .feature-text h3 {
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .feature-text p {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 12px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
        }
        
        .btn:hover {
            background-color: #3a5bef;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .btn-secondary {
            background-color: var(--secondary);
        }
        
        .btn-secondary:hover {
            background-color: #ef5a5a;
        }
        
        .btn-block {
            display: block;
            width: 100%;
            text-align: center;
            margin-top: 20px;
        }
        
        .bmi-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin: 30px 0;
        }
        
        .bmi-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .bmi-header h2 {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .bmi-value {
            font-size: 2rem;
            font-weight: bold;
        }
        
        .bmi-scale {
            height: 20px;
            background: linear-gradient(to right, #4caf50, #ffeb3b, #f44336);
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
        }
        
        .bmi-marker {
            position: absolute;
            top: -5px;
            width: 4px;
            height: 30px;
            background-color: var(--dark);
        }
        
        .bmi-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
        }
        
        .bmi-info {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 10px;
        }
        
        .reminder-banner {
            background: var(--primary);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .reminder-icon {
            font-size: 1.5rem;
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            background-color: var(--dark);
            color: white;
            border-radius: 20px 20px 0 0;
        }
        
        .notification-center {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            width: 90%;
            max-width: 400px;
        }
        
        .notification {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin-bottom: 15px;
            text-align: right;
            animation: fadeIn 0.5s forwards;
            position: relative;
            overflow: hidden;
        }
        
        .notification::after {
            content: '';
            position: absolute;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 5px;
            background: var(--primary);
        }
        
        .notification-success::after {
            background: var(--success);
        }
        
        .notification-warning::after {
            background: var(--warning);
        }
        
        .notification-danger::after {
            background: var(--danger);
        }
        
        .notification-icon {
            font-size: 2rem;
            margin-bottom: 15px;
        }
        
        .notification-content h3 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .notification-content p {
            font-size: 1rem;
            margin-bottom: 15px;
        }
        
        .notification-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .notification-close {
            position: absolute;
            left: 15px;
            top: 15px;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 1.2rem;
            opacity: 0.7;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Progress Page Styles */
        .progress-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .progress-header h2 {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .progress-bar {
            height: 20px;
            background-color: #eee;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-days {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
            justify-content: center;
        }
        
        .day-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 15px;
            width: 100px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .day-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }
        
        .day-card.active {
            background-color: var(--primary);
            color: white;
        }
        
        .day-card.completed {
            background-color: var(--success);
            color: white;
        }
        
        .day-number {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .day-status {
            font-size: 0.8rem;
            opacity: 0.8;
        }
        
        .exercises-list {
            margin-top: 20px;
        }
        
        .exercise-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 10px;
            flex-wrap: wrap;
        }
        
        .exercise-image {
            width: 100px;
            height: 100px;
            border-radius: 8px;
            object-fit: cover;
        }
        
        .exercise-info {
            flex: 1;
            min-width: 200px;
        }
        
        .exercise-info h3 {
            margin-bottom: 5px;
        }
        
        .exercise-info p {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 10px;
        }
        
        .exercise-complete {
            margin-left: auto;
            width: 24px;
            height: 24px;
            border: 2px solid var(--primary);
            border-radius: 50%;
            cursor: pointer;
            flex-shrink: 0;
        }
        
        .exercise-complete.checked {
            background-color: var(--primary);
            position: relative;
        }
        
        .exercise-complete.checked::after {
            content: '✓';
            position: absolute;
            color: white;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .exercise-video {
            width: 100%;
            margin-top: 10px;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .exercise-video iframe {
            width: 100%;
            height: 200px;
            border: none;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            text-align: center;
        }
        
        .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        /* Social Class Selection */
        .social-class-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .social-class-btn {
            padding: 10px 20px;
            border: 2px solid #eee;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .social-class-btn:hover {
            border-color: var(--primary);
        }
        
        .social-class-btn.selected {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        /* Timer and Calories Styles */
        .timer-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
            text-align: center;
        }
        
        .timer-display {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 15px 0;
        }
        
        .timer-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .calories-burned {
            margin-top: 20px;
            font-size: 1.2rem;
        }
        
        .calories-value {
            font-weight: bold;
            color: var(--primary);
        }
        
        .progress-summary {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
        }
        
        .progress-summary h3 {
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        /* Nutrition Plan Styles */
        .nutrition-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
            display: none;
        }
        
        .nutrition-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .nutrition-header h2 {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .meal-card {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .meal-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .meal-card p {
            margin-bottom: 5px;
        }
        
        .change-social-btn {
            background: none;
            border: none;
            color: var(--primary);
            text-decoration: underline;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .day-card {
                width: 80px;
            }
            
            .social-class-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .exercise-item {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .exercise-complete {
                margin-left: 0;
                margin-top: 10px;
            }
            
            .timer-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .motivation-message {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
            text-align: center;
            animation: slideIn 0.5s forwards;
        }
        
        .motivation-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .exercise-screen {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
            position: relative;
        }
        
        .exercise-screen.active {
            display: block;
        }
        
        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .exercise-timer-container {
            text-align: center;
            margin: 20px 0;
        }
        
        .exercise-timer {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            background: #f5f5f5;
            padding: 15px;
            border-radius: 10px;
            display: inline-block;
            min-width: 120px;
        }
        
        .exercise-rest-timer {
            font-size: 1.5rem;
            color: var(--rest);
            margin-top: 10px;
            display: none;
        }
        
        .exercise-instructions {
            white-space: pre-line;
            margin: 20px 0;
            line-height: 1.8;
            background: #f9f9f9;
            padding: 15px;
            border-radius: 10px;
            border-right: 4px solid var(--primary);
        }
        
        .exercise-stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        
        .exercise-stat {
            text-align: center;
        }
        
        .exercise-stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .exercise-stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .exercise-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .exercise-nav-center {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        /* شاشة الإيقاف المؤقت */
        .pause-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .pause-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 500px;
            width: 90%;
        }
        
        /* خيارات التغذية */
        .nutrition-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
        }
        
        .nutrition-option-btn {
            padding: 12px 25px;
            border: 2px solid var(--primary);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            font-weight: bold;
        }
        
        .nutrition-option-btn.selected {
            background: var(--primary);
            color: white;
        }

        .day-card.disabled {
    opacity: 0.6;
    cursor: not-allowed;
}
.day-lock {
    margin-top: 5px;
    font-size: 0.8rem;
}
.exercise-item {
    background: white;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.exercise-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.exercise-type {
    background: #4a6bff;
    color: white;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 0.8rem;
}

.exercise-image {
    width: 100%;
    border-radius: 8px;
    margin-bottom: 10px;
    height: 200px;
    object-fit: cover;
}

.start-exercise-btn {
    margin-top: 15px;
    width: 100%;
}

.no-exercises {
    text-align: center;
    padding: 30px;
    color: #666;
}

.no-exercises i {
    font-size: 3rem;
    margin-bottom: 15px;
    color: #4a6bff;
}
    </style>
</head>
<body>
    <div class="notification-center" id="notificationCenter"></div>
    
    <!-- نافذة تقييم خطة التدريب -->
    <div class="modal" id="feedbackModal">
        <div class="modal-content">
            <h2>تهانينا على إكمال خطتك!</h2>
            <p>هل كانت خطة التدريب مفيدة لك؟</p>
            <div class="modal-buttons">
                <button class="btn" id="planYes">نعم</button>
                <button class="btn btn-secondary" id="planNo">لا</button>
            </div>
        </div>
    </div>
    
    <!-- نافذة تقييم الخطة الغذائية -->
    <div class="modal" id="nutritionFeedbackModal">
        <div class="modal-content">
            <h2>تقييم الخطة الغذائية</h2>
            <p>هل كانت الخطة الغذائية مناسبة لك؟</p>
            <div class="modal-buttons">
                <button class="btn" id="nutritionYes">نعم</button>
                <button class="btn btn-secondary" id="nutritionNo">لا</button>
            </div>
        </div>
    </div>
    
    <!-- نافذة اختيار المستوى الاجتماعي -->
    <div class="modal" id="socialClassModal">
        <div class="modal-content">
            <h2>اختر مستواك الاجتماعي</h2>
            <p>هذا يساعدنا في تقديم الخطة الغذائية المناسبة لميزانيتك</p>
            <div class="social-class-selector">
                <div class="social-class-btn" data-class="low">الطبقة الفقيرة</div>
                <div class="social-class-btn" data-class="middle">الطبقة المتوسطة</div>
                <div class="social-class-btn" data-class="high">الطبقة الراقية</div>
            </div>
            <button class="btn btn-block" id="confirmSocialClass">تأكيد</button>
        </div>
    </div>
    
    <!-- نافذة التمرين المبكر -->
    <div class="modal" id="earlyWorkoutModal">
        <div class="modal-content">
            <h2>ليس وقت التمرين بعد</h2>
            <p id="earlyWorkoutMessage">وقت التمرين المحدد هو الساعة 7:00 صباحًا. هل تريد البدء الآن على أي حال؟</p>
            <div class="modal-buttons">
                <button class="btn" id="startEarlyYes">نعم</button>
                <button class="btn btn-secondary" id="startEarlyNo">لا</button>
            </div>
        </div>
    </div>
    
    <!-- شاشة إيقاف التمرين المؤقت -->
    <div class="pause-overlay" id="pauseOverlay">
        <div class="pause-content">
            <h2>تم إيقاف التمرين</h2>
            <p>يمكنك استئناف التمرين أو إعادة البدء من جديد</p>
            <div class="pause-buttons">
                <button class="btn" id="resumeWorkoutBtn">استئناف</button>
                <button class="btn btn-secondary" id="restartWorkoutBtn">إعادة البدء</button>
            </div>
        </div>
    </div>
    
    <header>
        <div class="container">
            <button class="back-btn" id="backButton">
                <i class="fas fa-arrow-right"></i> العودة
            </button>
            <button class="logout-btn" id="logoutButton">
                <i class="fas fa-sign-out-alt"></i> تسجيل الخروج
            </button>
            <h1>خطتك الشخصية</h1>
            <p>مصممة حسب أهدافك ومستوى لياقتك</p>
        </div>
    </header>
    
    <div class="container">
        <!-- معلومات المستخدم -->
        <div class="user-info">
            <div class="user-basic">
                <div class="user-avatar" id="userAvatar">JD</div>
                <div>
                    <h2 id="userName">John Doe</h2>
                    <p id="userGoal">الهدف: فقدان الوزن</p>
                </div>
            </div>
            <div class="user-stats">
                <div class="stat-item">
                    <div class="stat-value" id="userAge">32</div>
                    <div class="stat-label">العمر</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="userHeight">175</div>
                    <div class="stat-label">الطول (سم)</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="userWeight">82.5</div>
                    <div class="stat-label">الوزن (كجم)</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="userLevel">متوسط</div>
                    <div class="stat-label">المستوى</div>
                </div>
            </div>
        </div>
        
        <!-- تذكير التدريب -->
        <div class="reminder-banner">
            <div class="reminder-icon">
                <i class="fas fa-bell"></i>
            </div>
            <div>
                <h3>تم تعيين تذكيرات التدريب</h3>
                <p id="reminderText">ستتلقى تذكيرات يومية في الساعة 7:00 صباحًا لتمارينك</p>
            </div>
        </div>
        
        <!-- مؤشر كتلة الجسم -->
        <div class="bmi-container">
            <div class="bmi-header">
                <h2>مؤشر كتلة الجسم لديك</h2>
                <div class="bmi-value" id="bmiValue">26.9</div>
            </div>
            <div class="bmi-scale">
                <div class="bmi-marker" id="bmiMarker"></div>
            </div>
            <div class="bmi-labels">
                <span>نقص وزن (&lt;18.5)</span>
                <span>طبيعي (18.5-24.9)</span>
                <span>زيادة وزن (25-29.9)</span>
                <span>سمنة (30+)</span>
            </div>
            <div class="bmi-info" id="bmiInfo">
                أنت في فئة زيادة الوزن. ستساعدك خطتك الشخصية على الوصول إلى وزن صحي.
            </div>
        </div>
        
        <!-- خطة التدريب والغذاء الرئيسية -->
        <div class="plan-container" id="mainPlanContainer">
            <div class="plan-card">
                <div class="plan-header">
                    <h2>خطة التدريب</h2>
                    <span id="workoutFrequency">30 يوم</span>
                </div>
                <div class="plan-body">
                    <div class="plan-feature">
                        <div class="feature-icon"><i class="fas fa-dumbbell"></i></div>
                        <div class="feature-text">
                            <h3>تمارين القوة</h3>
                            <p id="strengthDesc">3 أيام في الأسبوع تركز على مجموعات العضلات الرئيسية</p>
                        </div>
                    </div>
                    <div class="plan-feature">
                        <div class="feature-icon"><i class="fas fa-running"></i></div>
                        <div class="feature-text">
                            <h3>تمارين القلب</h3>
                            <p id="cardioDesc">يومان من تمارين القلب متوسطة الشدة</p>
                        </div>
                    </div>
                    <div class="plan-feature">
                        <div class="feature-icon"><i class="fas fa-spa"></i></div>
                        <div class="feature-text">
                            <h3>المرونة</h3>
                            <p id="flexibilityDesc">تمارين إطالة يومية وجلسة يوغا واحدة أسبوعيًا</p>
                        </div>
                    </div>
                    <button class="btn btn-block" id="viewWorkoutPlan">عرض خطة التدريب</button>
                </div>
            </div>
            
            <div class="plan-card">
                <div class="plan-header">
                    <h2>الخطة الغذائية</h2>
                    <span id="dailyCalories">2000 سعر/يوم</span>
                </div>
                <div class="plan-body">
                    <div class="nutrition-options">
                        <div class="nutrition-option-btn selected" id="sameMealsBtn">نفس الوجبات يومياً</div>
                        <div class="nutrition-option-btn" id="variedMealsBtn">وجبات مختلفة يومياً</div>
                    </div>
                    <div class="plan-feature">
                        <div class="feature-icon"><i class="fas fa-drumstick-bite"></i></div>
                        <div class="feature-text">
                            <h3>بروتين عالي</h3>
                            <p id="proteinDesc">140غ بروتين يوميًا للحفاظ على الكتلة العضلية</p>
                        </div>
                    </div>
                    <button class="btn btn-secondary btn-block" id="viewMealPlan">عرض الخطة الغذائية</button>
                </div>
            </div>
        </div>
        
        <!-- قسم تتبع التقدم (مخفي بالبداية) -->
        <div class="progress-container" id="progressSection" style="display: none;">
            <button class="back-to-plan-btn" id="backToPlan">
                <i class="fas fa-arrow-right"></i> العودة إلى الخطة الرئيسية
            </button>
            
            <!-- شاشة التمرين الفردي -->
            <div class="exercise-screen" id="exerciseScreen">
                <div class="exercise-header">
                    <button class="back-btn" id="cancelWorkoutBtn">
                        <i class="fas fa-times"></i> إلغاء
                    </button>
                    <h2 id="exerciseTitle">تمرين الضغط</h2>
                    <button class="btn btn-secondary" id="pauseWorkoutBtn">
                        <i class="fas fa-pause"></i> إيقاف
                    </button>
                </div>
                
                <div class="exercise-video">
                    <iframe id="exerciseVideo" src="" frameborder="0" allowfullscreen></iframe>
                </div>
                
                <div class="exercise-timer-container">
                    <div class="exercise-timer" id="exerciseTimer">00:00</div>
                    <div class="exercise-rest-timer" id="restTimer">
                        <i class="fas fa-clock"></i> الراحة: <span id="restTime">00:30</span>
                    </div>
                </div>
                
                <div class="exercise-instructions" id="exerciseInstructions"></div>
                
                <div class="exercise-stats">
                    <div class="exercise-stat">
                        <div class="exercise-stat-value" id="currentCalories">0</div>
                        <div class="exercise-stat-label">سعرات حرارية</div>
                    </div>
                    <div class="exercise-stat">
                        <div class="exercise-stat-value" id="exerciseProgress">1/5</div>
                        <div class="exercise-stat-label">التقدم</div>
                    </div>
                </div>
                
                <div class="exercise-nav">
                    <button class="btn btn-secondary" id="skipExerciseBtn" style="display: none;">
                        <i class="fas fa-forward"></i> تخطي
                    </button>
                    <div class="exercise-nav-center">
                        <button class="btn btn-rest" id="restBtn" style="display: none;">
                            <i class="fas fa-couch"></i> راحة
                        </button>
                        <button class="btn" id="nextExerciseBtn" style="display: none;">
                            <i class="fas fa-arrow-left"></i> التالي
                        </button>
                        <button class="btn" id="startWorkoutBtn">
                            <i class="fas fa-play"></i> ابدأ التمرين
                        </button>
                        <button class="btn" id="finishWorkoutBtn" style="display: none;">
                            <i class="fas fa-flag-checkered"></i> إنهاء
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- باقي محتوى قسم التقدم -->
            <div class="progress-header">
                <h2>تقدمك</h2>
                <div id="progressPercent">0%</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="progress-days" id="daysContainer">
                <!-- سيتم إضافة الأيام ديناميكياً -->
            </div>
            
            <div class="exercises-list" id="exercisesContainer">
                <!-- سيتم إضافة التمارين ديناميكياً -->
            </div>
        </div>
        
        <!-- قسم الخطة الغذائية (مخفي بالبداية) -->
        <div class="nutrition-container" id="nutritionSection" style="display: none;">
            <button class="back-to-plan-btn" id="backToPlanNutrition">
                <i class="fas fa-arrow-right"></i> العودة إلى الخطة الرئيسية
            </button>
            
            <div class="nutrition-header">
                <h2 id="nutritionDayTitle">الخطة الغذائية لليوم 1</h2>
                <button class="change-social-btn" id="changeSocialClass">
                    <i class="fas fa-exchange-alt"></i> تغيير المستوى الاجتماعي
                </button>
            </div>
            
            <div class="meal-card">
                <h3><i class="fas fa-sun"></i> الفطور</h3>
                <p id="breakfastMeal">شوفان مع موز وزبدة فول سوداني</p>
                <p><strong>السعرات:</strong> <span id="breakfastCalories">450</span> سعرة</p>
            </div>
            
            <div class="meal-card">
                <h3><i class="fas fa-apple-alt"></i> وجبة خفيفة صباحية</h3>
                <p id="morningSnack">بيض مسلوق وجزر</p>
                <p><strong>السعرات:</strong> <span id="morningSnackCalories">200</span> سعرة</p>
            </div>
            
            <div class="meal-card">
                <h3><i class="fas fa-utensils"></i> الغداء</h3>
                <p id="lunchMeal">أرز مع فاصوليا وخضروات مشكلة</p>
                <p><strong>السعرات:</strong> <span id="lunchCalories">600</span> سعرة</p>
            </div>
            
            <div class="meal-card">
                <h3><i class="fas fa-coffee"></i> وجبة خفيفة مسائية</h3>
                <p id="afternoonSnack">زبادي يوناني مع عسل</p>
                <p><strong>السعرات:</strong> <span id="afternoonSnackCalories">250</span> سعرة</p>
            </div>
            
            <div class="meal-card">
                <h3><i class="fas fa-moon"></i> العشاء</h3>
                <p id="dinnerMeal">صدر دجاج مع بطاطا حلوة وبروكلي</p>
                <p><strong>السعرات:</strong> <span id="dinnerCalories">500</span> سعرة</p>
            </div>
            
            <div class="nutrition-header" style="margin-top: 30px;">
                <h2>إجمالي السعرات اليومية</h2>
                <h2 id="totalCalories">2000 سعرة</h2>
            </div>
            
            <div class="progress-days" id="nutritionDaysContainer">
                <!-- سيتم إضافة أيام الخطة الغذائية ديناميكياً -->
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>&copy; 2023 نادي التدريب. جميع الحقوق محفوظة.</p>
        </div>
    </footer>
    
    <script>
// ============ Global Variables ============
let userProfile = {
    firstName: "مستخدم",
    lastName: "جديد",
    age: 25,
    height: 170,
    weight: 70,
    gender: "male",
    goal: "weightLoss",
    fitnessLevel: "beginner",
    hasEquipment: false,
    workoutTime: "morning",
    activityLevel: "moderate"
};

let currentDay = 1;
let completedDays = 0;
let currentExercise = 0;
let currentSet = 1;
let exercises = [];
let workoutTimer = null;
let restTimer = null;
let workoutStartTime = null;
let totalCalories = 0;
let exerciseStartTime = null;
let exerciseDuration = 0;
let isWorkoutActive = false;
let isResting = false;
let completedExercises = [];
let workoutHistory = [];
let socialClass = "middle";
let nutritionChoice = "sameMeals";
let currentReps = 0;
let voiceGuideEnabled = true;
let achievements = [];

// ============ Initialize App ============
document.addEventListener('DOMContentLoaded', function() {
    loadUserData();
    initUserProfile();
    setupEventListeners();
    
    // Show welcome message
    setTimeout(() => {
        showNotification('مرحباً بك', `تم تحميل خطتك بنجاح! اليوم ${currentDay} من 30`, 'success');
    }, 1000);
});

function loadUserData() {
    // Load from localStorage if available
    const savedProfile = localStorage.getItem('userProfile');
    if (savedProfile) {
        userProfile = JSON.parse(savedProfile);
    }
    
    const savedProgress = localStorage.getItem('workoutProgress');
    if (savedProgress) {
        const progress = JSON.parse(savedProgress);
        currentDay = progress.currentDay || 1;
        completedDays = progress.completedDays || 0;
        socialClass = progress.socialClass || "middle";
        nutritionChoice = progress.nutritionChoice || "sameMeals";
        workoutHistory = progress.workoutHistory || [];
    }
}

function initUserProfile() {
    // Initialize UI
    document.getElementById('userAvatar').textContent = 
        userProfile.firstName.charAt(0) + userProfile.lastName.charAt(0);
    
    if (userProfile.gender === 'female') {
        document.getElementById('userAvatar').classList.add('female');
    }
    
    document.getElementById('userName').textContent = `${userProfile.firstName} ${userProfile.lastName}`;
    document.getElementById('userGoal').textContent = `الهدف: ${formatGoal(userProfile.goal)}`;
    document.getElementById('userAge').textContent = userProfile.age;
    document.getElementById('userHeight').textContent = userProfile.height;
    document.getElementById('userWeight').textContent = userProfile.weight;
    
    const levelText = {
        beginner: 'مبتدئ',
        intermediate: 'متوسط',
        advanced: 'متقدم'
    };
    document.getElementById('userLevel').textContent = levelText[userProfile.fitnessLevel] || userProfile.fitnessLevel;
    
    // Calculate BMI
    const bmi = calculateBMI(userProfile.weight, userProfile.height);
    document.getElementById('bmiValue').textContent = bmi.toFixed(1);
    
    // Set BMI marker position
    let markerPosition = 0;
    let bmiInfo = "";
    
    if (bmi < 18.5) {
        markerPosition = (bmi / 18.5) * 25;
        bmiInfo = "أنت تعاني من نقص الوزن";
    } else if (bmi < 25) {
        markerPosition = 25 + ((bmi - 18.5) / 6.5) * 25;
        bmiInfo = "وزنك صحي";
    } else if (bmi < 30) {
        markerPosition = 50 + ((bmi - 25) / 5) * 25;
        bmiInfo = "أنت تعاني من زيادة الوزن";
    } else {
        markerPosition = 75 + ((Math.min(bmi, 40) - 30) / 10) * 25;
        bmiInfo = "أنت تعاني من السمنة";
    }
    
    document.getElementById('bmiMarker').style.left = `${markerPosition}%`;
    document.getElementById('bmiInfo').textContent = bmiInfo;
    
    // Update reminder text
    const workoutTimes = {
        morning: "7:00 صباحًا",
        afternoon: "12:00 ظهرًا",
        evening: "6:00 مساءً",
        flexible: "في أوقات مرنة"
    };
    document.getElementById('reminderText').textContent = 
        `ستتلقى تذكيرات يومية في ${workoutTimes[userProfile.workoutTime]} لتمارينك`;
    
    updateWorkoutPlan();
    updateNutritionPlan();
}

function setupEventListeners() {
    // Navigation buttons
    document.getElementById('logoutButton').addEventListener('click', logout);
    document.getElementById('viewWorkoutPlan').addEventListener('click', checkWorkoutTime);
    document.getElementById('viewMealPlan').addEventListener('click', showMealPlan);
    document.getElementById('backToPlan').addEventListener('click', goBackToMainPlan);
    document.getElementById('backToPlanNutrition').addEventListener('click', goBackToMainPlan);
    document.getElementById('changeSocialClass').addEventListener('click', showSocialClassModal);
    
    // Exercise buttons
    document.getElementById('startWorkoutBtn').addEventListener('click', startWorkout);
    document.getElementById('skipExerciseBtn').addEventListener('click', skipExercise);
    document.getElementById('restBtn').addEventListener('click', startRest);
    document.getElementById('nextExerciseBtn').addEventListener('click', nextExercise);
    document.getElementById('finishWorkoutBtn').addEventListener('click', finishWorkout);
    document.getElementById('cancelWorkoutBtn').addEventListener('click', cancelWorkout);
    document.getElementById('pauseWorkoutBtn').addEventListener('click', togglePause);
    
    // Nutrition buttons
    document.getElementById('sameMealsBtn').addEventListener('click', () => setNutritionChoice('sameMeals'));
    document.getElementById('variedMealsBtn').addEventListener('click', () => setNutritionChoice('variedMeals'));
    
    // Social class buttons
    document.querySelectorAll('.social-class-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.social-class-btn').forEach(b => b.classList.remove('selected'));
            this.classList.add('selected');
            socialClass = this.dataset.class;
        });
    });
    
    document.getElementById('confirmSocialClass').addEventListener('click', confirmSocialClass);
    document.getElementById('startEarlyYes').addEventListener('click', startWorkoutEarly);
    document.getElementById('startEarlyNo').addEventListener('click', () => {
        document.getElementById('earlyWorkoutModal').style.display = 'none';
    });
    
    document.getElementById('resumeWorkoutBtn').addEventListener('click', resumeWorkout);
    document.getElementById('restartWorkoutBtn').addEventListener('click', restartWorkout);
    
    // Feedback buttons
    document.getElementById('planYes').addEventListener('click', () => submitFeedback(true));
    document.getElementById('planNo').addEventListener('click', () => submitFeedback(false));
    document.getElementById('nutritionYes').addEventListener('click', () => submitNutritionFeedback(true));
    document.getElementById('nutritionNo').addEventListener('click', () => submitNutritionFeedback(false));
}

// ============ Workout Functions ============
function checkWorkoutTime() {
    const now = new Date();
    const workoutHour = getWorkoutHour();
    
    if (now.getHours() >= workoutHour || userProfile.workoutTime === 'flexible') {
        showWorkoutPlan();
    } else {
        document.getElementById('earlyWorkoutMessage').textContent = 
            `وقت التمرين المحدد هو الساعة ${workoutHour}:00. هل تريد البدء الآن على أي حال؟`;
        document.getElementById('earlyWorkoutModal').style.display = 'flex';
    }
}

function getWorkoutHour() {
    switch(userProfile.workoutTime) {
        case 'morning': return 7;
        case 'afternoon': return 12;
        case 'evening': return 18;
        default: return 9;
    }
}

function startWorkoutEarly() {
    document.getElementById('earlyWorkoutModal').style.display = 'none';
    showWorkoutPlan();
}

function showWorkoutPlan() {
    document.getElementById('mainPlanContainer').style.display = 'none';
    document.getElementById('nutritionSection').style.display = 'none';
    document.getElementById('progressSection').style.display = 'block';
    
    generateDays();
    loadExercisesForDay(currentDay);
    updateProgress();
}

function generateDays() {
    const daysContainer = document.getElementById('daysContainer');
    daysContainer.innerHTML = '';
    
    for (let i = 1; i <= 30; i++) {
        const dayCard = document.createElement('div');
        dayCard.className = `day-card ${i === currentDay ? 'active' : ''} ${i <= completedDays ? 'completed' : ''}`;
        
        if (i > completedDays + 1) {
            dayCard.classList.add('disabled');
            dayCard.innerHTML = `
                <div class="day-number">${i}</div>
                <div class="day-status">قادم</div>
                <div class="day-lock"><i class="fas fa-lock"></i></div>
            `;
        } else {
            dayCard.innerHTML = `
                <div class="day-number">${i}</div>
                <div class="day-status">${i <= completedDays ? 'مكتمل' : i === currentDay ? 'حالي' : 'متاح'}</div>
            `;
            
            dayCard.addEventListener('click', () => {
                if (i <= completedDays + 1) {
                    currentDay = i;
                    localStorage.setItem('currentDay', currentDay);
                    loadExercisesForDay(currentDay);
                    document.querySelectorAll('.day-card').forEach(card => {
                        card.classList.remove('active');
                    });
                    dayCard.classList.add('active');
                }
            });
        }
        
        daysContainer.appendChild(dayCard);
    }
}

function loadExercisesForDay(day) {
    const level = userProfile.fitnessLevel;
    const hasEquipment = userProfile.hasEquipment;
    
    // Get appropriate exercises
    let levelExercises = exercisesDB[level][hasEquipment ? 'withEquipment' : 'withoutEquipment'];
    
    // Select 4 random exercises
    exercises = shuffleArray([...levelExercises]).slice(0, 4);
    
    displayExercisesList();
}

function displayExercisesList() {
    const exercisesContainer = document.getElementById('exercisesContainer');
    exercisesContainer.innerHTML = '';
    
    if (exercises.length === 0) {
        exercisesContainer.innerHTML = `
            <div class="no-exercises">
                <i class="fas fa-dumbbell"></i>
                <p>لا توجد تمارين متاحة لليوم الحالي</p>
            </div>
        `;
        return;
    }

    exercises.forEach((exercise, index) => {
        const exerciseItem = document.createElement('div');
        exerciseItem.className = 'exercise-item';
        exerciseItem.innerHTML = `
            <div class="exercise-header">
                <h3>${exercise.name}</h3>
                <span class="exercise-type">${exercise.type === 'reps' ? 'تمارين عددة' : 'تمارين زمنية'}</span>
            </div>
            <img src="${exercise.image}" alt="${exercise.name}" class="exercise-image"
                 onerror="this.onerror=null;this.src='https://via.placeholder.com/300x200?text=Exercise'">
            <div class="exercise-details">
                <p><i class="fas fa-info-circle"></i> ${exercise.description}</p>
                <div class="exercise-instructions">${exercise.instructions.replace(/\n/g, '<br>')}</div>
                <button class="btn start-exercise-btn" data-exercise-id="${index}">
                    <i class="fas fa-play"></i> ابدأ التمرين
                </button>
            </div>
        `;
        
        exercisesContainer.appendChild(exerciseItem);
    });

    // Add event listeners to start buttons
    document.querySelectorAll('.start-exercise-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            startExercise(parseInt(this.getAttribute('data-exercise-id')));
        });
    });
}

function startExercise(exerciseIndex) {
    currentExercise = exerciseIndex;
    currentSet = 1;
    currentReps = 0;
    const exercise = exercises[currentExercise];
    
    // Setup exercise screen
    document.getElementById('exerciseTitle').textContent = exercise.name;
    document.getElementById('exerciseVideo').src = exercise.video;
    document.getElementById('exerciseInstructions').textContent = exercise.instructions;
    document.getElementById('exerciseProgress').textContent = `${currentExercise + 1}/${exercises.length}`;
    document.getElementById('currentCalories').textContent = '0';
    
    // Show/hide appropriate buttons
    document.getElementById('startWorkoutBtn').style.display = 'block';
    document.getElementById('skipExerciseBtn').style.display = 'none';
    document.getElementById('nextExerciseBtn').style.display = 'none';
    document.getElementById('finishWorkoutBtn').style.display = 'none';
    document.getElementById('restBtn').style.display = 'none';
    document.getElementById('restTimer').style.display = 'none';
    
    // Show exercise screen
    document.getElementById('exercisesContainer').style.display = 'none';
    document.getElementById('exerciseScreen').style.display = 'block';
}

function startWorkout() {
    const exercise = exercises[currentExercise];
    exerciseStartTime = new Date();
    workoutStartTime = workoutStartTime || new Date();
    isWorkoutActive = true;
    
    // Setup UI
    document.getElementById('startWorkoutBtn').style.display = 'none';
    document.getElementById('skipExerciseBtn').style.display = 'block';
    
    if (exercise.type === 'reps') {
        document.getElementById('exerciseTimer').textContent = `المجموعة ${currentSet}/${exercise.sets} - ${exercise.reps} تكرار`;
        startRepsCounter(exercise);
    } else {
        startExerciseTimer(exercise.duration);
    }
    
    // Calculate calories burned per second
    const caloriesPerSecond = exercise.caloriesPerMinute / 60;
    
    // Update calories every second
    const calorieTimer = setInterval(() => {
        if (isWorkoutActive && !isResting) {
            const timeElapsed = (new Date() - exerciseStartTime) / 1000; // in seconds
            totalCalories += caloriesPerSecond;
            document.getElementById('currentCalories').textContent = Math.round(totalCalories);
        }
    }, 1000);
    
    // Store timer to clear later
    workoutTimer = calorieTimer;
}

function startRepsCounter(exercise) {
    // For reps exercises, we'll simulate reps completion
    currentReps = 0;
    updateRepsDisplay();
    
    // Show button to complete each rep
    document.getElementById('restBtn').style.display = 'block';
    document.getElementById('restBtn').textContent = `أكمل التكرار (${currentReps}/${exercise.reps})`;
    
    document.getElementById('restBtn').onclick = () => {
        currentReps++;
        updateRepsDisplay();
        
        if (currentReps >= exercise.reps) {
            completeSet();
        } else {
            document.getElementById('restBtn').textContent = `أكمل التكرار (${currentReps}/${exercise.reps})`;
        }
    };
}

function updateRepsDisplay() {
    const exercise = exercises[currentExercise];
    document.getElementById('exerciseTimer').textContent = 
        `المجموعة ${currentSet}/${exercise.sets} - ${currentReps}/${exercise.reps} تكرار`;
}

function completeSet() {
    const exercise = exercises[currentExercise];
    currentSet++;
    
    if (currentSet <= exercise.sets) {
        startRestPeriod(exercise.restTime);
    } else {
        finishExercise();
    }
}

function finishExercise() {
    const exercise = exercises[currentExercise];
    completedExercises.push({
        id: exercise.id,
        name: exercise.name,
        setsCompleted: exercise.sets,
        reps: exercise.reps || null,
        duration: exercise.duration || null,
        calories: totalCalories
    });
    
    if (currentExercise < exercises.length - 1) {
        startRestPeriod(exercise.restTime);
    } else {
        finishWorkout();
    }
}

function startRestPeriod(restTime) {
    isResting = true;
    let restTimeLeft = restTime;
    
    document.getElementById('restTime').textContent = formatTime(restTimeLeft);
    document.getElementById('restTimer').style.display = 'block';
    document.getElementById('nextExerciseBtn').style.display = 'block';
    document.getElementById('skipExerciseBtn').style.display = 'none';
    document.getElementById('restBtn').style.display = 'none';
    
    restTimer = setInterval(() => {
        restTimeLeft--;
        document.getElementById('restTime').textContent = formatTime(restTimeLeft);
        
        if (restTimeLeft <= 0) {
            clearInterval(restTimer);
            isResting = false;
            document.getElementById('restTimer').style.display = 'none';
            nextExercise();
        }
    }, 1000);
}

function nextExercise() {
    currentExercise++;
    startExercise(currentExercise);
}

function skipExercise() {
    clearInterval(workoutTimer);
    clearInterval(restTimer);
    finishExercise();
}

function finishWorkout() {
    const duration = Math.floor((new Date() - workoutStartTime) / 1000);
    const workoutData = {
        date: new Date(),
        day: currentDay,
        exercises: completedExercises,
        duration: duration,
        calories: Math.round(totalCalories),
        completed: true
    };
    
    workoutHistory.push(workoutData);
    saveWorkoutData();
    
    if (currentDay === completedDays + 1) {
        completedDays++;
        localStorage.setItem('completedDays', completedDays);
        
        if (currentDay < 30) {
            currentDay++;
            localStorage.setItem('currentDay', currentDay);
        }
    }
    
    showNotification('تهانينا!', `لقد أكملت يوم ${workoutData.day} بنجاح!`, 'success');
    resetWorkout();
    
    // Show feedback modal if completed all exercises
    if (completedDays === 30) {
        setTimeout(() => {
            document.getElementById('feedbackModal').style.display = 'flex';
        }, 1500);
    }
}

function resetWorkout() {
    clearInterval(workoutTimer);
    clearInterval(restTimer);
    
    currentExercise = 0;
    currentSet = 1;
    currentReps = 0;
    totalCalories = 0;
    workoutStartTime = null;
    exerciseStartTime = null;
    completedExercises = [];
    isWorkoutActive = false;
    isResting = false;
    
    document.getElementById('exerciseScreen').style.display = 'none';
    document.getElementById('exercisesContainer').style.display = 'block';
    loadExercisesForDay(currentDay);
    updateProgress();
}

function togglePause() {
    if (isWorkoutActive) {
        pauseWorkout();
    } else {
        resumeWorkout();
    }
}

function pauseWorkout() {
    clearInterval(workoutTimer);
    clearInterval(restTimer);
    isWorkoutActive = false;
    document.getElementById('pauseOverlay').style.display = 'flex';
}

function resumeWorkout() {
    document.getElementById('pauseOverlay').style.display = 'none';
    isWorkoutActive = true;
    
    const exercise = exercises[currentExercise];
    if (exercise.type === 'time') {
        const remainingTime = exerciseDuration - Math.floor((new Date() - exerciseStartTime) / 1000);
        startExerciseTimer(remainingTime);
    }
}

function restartWorkout() {
    document.getElementById('pauseOverlay').style.display = 'none';
    startExercise(currentExercise);
}

function startExerciseTimer(duration) {
    exerciseDuration = duration;
    let timeLeft = duration;
    
    document.getElementById('exerciseTimer').textContent = formatTime(timeLeft);
    
    workoutTimer = setInterval(() => {
        if (isWorkoutActive && !isResting) {
            timeLeft--;
            document.getElementById('exerciseTimer').textContent = formatTime(timeLeft);
            
            if (timeLeft <= 0) {
                clearInterval(workoutTimer);
                finishExercise();
            }
        }
    }, 1000);
}

// ============ Nutrition Functions ============
function showMealPlan() {
    if (!socialClass) {
        showSocialClassModal();
        return;
    }
    
    document.getElementById('mainPlanContainer').style.display = 'none';
    document.getElementById('progressSection').style.display = 'none';
    document.getElementById('nutritionSection').style.display = 'block';
    
    loadNutritionPlan(currentDay);
    generateNutritionDays();
}

function setNutritionChoice(choice) {
    nutritionChoice = choice;
    localStorage.setItem('nutritionChoice', choice);
    
    document.getElementById('sameMealsBtn').classList.toggle('selected', choice === 'sameMeals');
    document.getElementById('variedMealsBtn').classList.toggle('selected', choice === 'variedMeals');
    
    if (document.getElementById('nutritionSection').style.display === 'block') {
        loadNutritionPlan(currentDay);
        generateNutritionDays();
    }
    
    showNotification('تم التغيير', `سيتم استخدام ${choice === 'sameMeals' ? 'نفس الوجبات يومياً' : 'وجبات مختلفة كل يوم'}`, 'success');
}

function loadNutritionPlan(day) {
    const dayPlan = getNutritionPlanForDay(day);
    
    document.getElementById('nutritionDayTitle').textContent = `الخطة الغذائية لليوم ${day}`;
    document.getElementById('breakfastMeal').textContent = dayPlan.breakfast;
    document.getElementById('breakfastCalories').textContent = dayPlan.breakfastCalories;
    document.getElementById('morningSnack').textContent = dayPlan.morningSnack;
    document.getElementById('morningSnackCalories').textContent = dayPlan.morningSnackCalories;
    document.getElementById('lunchMeal').textContent = dayPlan.lunch;
    document.getElementById('lunchCalories').textContent = dayPlan.lunchCalories;
    document.getElementById('afternoonSnack').textContent = dayPlan.afternoonSnack;
    document.getElementById('afternoonSnackCalories').textContent = dayPlan.afternoonSnackCalories;
    document.getElementById('dinnerMeal').textContent = dayPlan.dinner;
    document.getElementById('dinnerCalories').textContent = dayPlan.dinnerCalories;
    document.getElementById('totalCalories').textContent = `${dayPlan.totalCalories} سعرة`;
}

function getNutritionPlanForDay(day) {
    if (nutritionChoice === 'sameMeals') {
        return nutritionPlans.sameMeals[socialClass][0];
    } else {
        return nutritionPlans.variedMeals[socialClass][day - 1];
    }
}

function generateNutritionDays() {
    const nutritionDaysContainer = document.getElementById('nutritionDaysContainer');
    nutritionDaysContainer.innerHTML = '';
    
    const totalDays = nutritionChoice === 'sameMeals' ? 1 : 30;
    
    for (let i = 1; i <= totalDays; i++) {
        const dayCard = document.createElement('div');
        dayCard.className = `day-card ${i === currentDay ? 'active' : ''}`;
        dayCard.innerHTML = `
            <div class="day-number">${i}</div>
            <div class="day-status">${i === currentDay ? 'حالي' : ''}</div>
        `;
        
        dayCard.addEventListener('click', () => {
            currentDay = i;
            localStorage.setItem('currentDay', currentDay);
            loadNutritionPlan(currentDay);
            updateActiveDayCard();
        });
        
        nutritionDaysContainer.appendChild(dayCard);
    }
}

function updateActiveDayCard() {
    document.querySelectorAll('#nutritionDaysContainer .day-card').forEach(card => {
        card.classList.remove('active');
    });
    document.querySelector(`#nutritionDaysContainer .day-card:nth-child(${currentDay})`).classList.add('active');
}

function showSocialClassModal() {
    document.getElementById('socialClassModal').style.display = 'flex';
}

function confirmSocialClass() {
    if (!socialClass) {
        showNotification('خطأ', 'الرجاء اختيار مستواك الاجتماعي', 'danger');
        return;
    }
    
    localStorage.setItem('socialClass', socialClass);
    document.getElementById('socialClassModal').style.display = 'none';
    showMealPlan();
}

// ============ Helper Functions ============
function calculateBMI(weight, height) {
    const heightInMeters = height / 100;
    return weight / (heightInMeters * heightInMeters);
}

function formatGoal(goal) {
    const goalMap = {
        weightLoss: "فقدان الوزن",
        muscleGain: "اكتساب العضلات",
        endurance: "التحمل",
        toning: "التنغيم",
        health: "الصحة العامة"
    };
    return goalMap[goal] || goal;
}

function formatTime(seconds) {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
}

function showNotification(title, message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    
    let icon = 'ℹ️';
    if (type === 'success') icon = '✅';
    if (type === 'warning') icon = '⚠️';
    if (type === 'danger') icon = '❌';
    
    notification.innerHTML = `
        <div class="notification-icon">${icon}</div>
        <div class="notification-content">
            <h3>${title}</h3>
            <p>${message}</p>
        </div>
        <button class="notification-close">&times;</button>
    `;
    
    notification.querySelector('.notification-close').addEventListener('click', () => {
        notification.remove();
    });
    
    document.getElementById('notificationCenter').appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 5000);
}

function updateWorkoutPlan() {
    if (userProfile.goal === 'weightLoss') {
        document.getElementById('workoutFrequency').textContent = '5 أيام/أسبوع';
        document.getElementById('strengthDesc').textContent = '3 أيام من تمارين القوة لكامل الجسم';
        document.getElementById('cardioDesc').textContent = '4 أيام من تمارين القلب';
        document.getElementById('flexibilityDesc').textContent = 'تمارين حركية يومية';
    } else if (userProfile.goal === 'muscleGain') {
        document.getElementById('workoutFrequency').textContent = '5 أيام قوة + 2 قلب';
        document.getElementById('strengthDesc').textContent = '5 أيام روتين منقسم';
        document.getElementById('cardioDesc').textContent = 'يومان من تمارين القلب الخفيفة';
        document.getElementById('flexibilityDesc').textContent = 'تمارين إطالة يومية';
    } else {
        document.getElementById('workoutFrequency').textContent = '30 يوم';
        document.getElementById('strengthDesc').textContent = '3 أيام في الأسبوع';
        document.getElementById('cardioDesc').textContent = 'يومان من تمارين القلب';
        document.getElementById('flexibilityDesc').textContent = 'تمارين إطالة يومية';
    }
}

function updateNutritionPlan() {
    let bmr;
    if (userProfile.gender === 'male') {
        bmr = 10 * userProfile.weight + 6.25 * userProfile.height - 5 * userProfile.age + 5;
    } else {
        bmr = 10 * userProfile.weight + 6.25 * userProfile.height - 5 * userProfile.age - 161;
    }
    
    const activityMultipliers = {
        sedentary: 1.2,
        light: 1.375,
        moderate: 1.55,
        active: 1.725,
        extreme: 1.9
    };
    
    let tdee = bmr * activityMultipliers[userProfile.activityLevel];
    
    if (userProfile.goal === 'weightLoss') {
        tdee *= 0.8;
    } else if (userProfile.goal === 'muscleGain') {
        tdee *= 1.1;
    }
    
    document.getElementById('dailyCalories').textContent = `${Math.round(tdee)} سعر/يوم`;
    
    let protein;
    if (userProfile.goal === 'muscleGain') {
        protein = 2.2 * userProfile.weight;
    } else {
        protein = 1.6 * userProfile.weight;
    }
    
    document.getElementById('proteinDesc').textContent = 
        `${Math.round(protein)}غ بروتين يوميًا ${userProfile.goal === 'muscleGain' ? 'لبناء' : 'للحفاظ على'} الكتلة العضلية`;
}

function shuffleArray(array) {
    const newArray = [...array];
    for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
    }
    return newArray;
}

function goBackToMainPlan() {
    document.getElementById('progressSection').style.display = 'none';
    document.getElementById('nutritionSection').style.display = 'none';
    document.getElementById('mainPlanContainer').style.display = 'grid';
}

function logout() {
    if(confirm('هل أنت متأكد أنك تريد تسجيل الخروج؟ سيتم حذف جميع بيانات التقدم.')) {
        localStorage.clear();
        window.location.href = 'profile.html';
    }
}

function saveWorkoutData() {
    const progress = {
        currentDay: currentDay,
        completedDays: completedDays,
        socialClass: socialClass,
        nutritionChoice: nutritionChoice,
        workoutHistory: workoutHistory,
        lastSaved: new Date()
    };
    localStorage.setItem('workoutProgress', JSON.stringify(progress));
}

function updateProgress() {
    const progress = Math.round((completedDays / 30) * 100);
    document.getElementById('progressFill').style.width = `${progress}%`;
    document.getElementById('progressPercent').textContent = `${progress}%`;
}

function submitFeedback(isPositive) {
    document.getElementById('feedbackModal').style.display = 'none';
    showNotification('شكراً لك', `تم تسجيل تقييمك للخطة التدريبية: ${isPositive ? 'إيجابي' : 'سلبي'}`, 'success');
}

function submitNutritionFeedback(isPositive) {
    document.getElementById('nutritionFeedbackModal').style.display = 'none';
    showNotification('شكراً لك', `تم تسجيل تقييمك للخطة الغذائية: ${isPositive ? 'إيجابي' : 'سلبي'}`, 'success');
}

function cancelWorkout() {
    if (confirm('هل تريد إلغاء التمرين الحالي؟ سيتم فقدان جميع البيانات غير المحفوظة.')) {
        resetWorkout();
    }
}

// ============ Exercise Database ============
const exercisesDB = {
    beginner: {
        withEquipment: [
            {
                id: 1,
                name: "تمرين الضغط",
                type: "reps",
                description: "3 مجموعات × 12 تكرار",
                video: "https://www.youtube.com/embed/IODxDxX7oi4",
                image: "https://i.ytimg.com/vi/IODxDxX7oi4/hqdefault.jpg",
                instructions: "1. ابدأ بوضعية البلانك\n2. اخفض جسمك حتى يلمس صدرك الأرض\n3. ادفع للأعلى إلى الوضع الأول\n4. كرر التمرين",
                caloriesPerMinute: 8,
                sets: 3,
                reps: 12,
                restTime: 60,
                targetMuscles: ["الصدر", "الذراعين", "البطن"]
            },
            {
                id: 2,
                name: "تمرين القرفصاء",
                type: "reps",
                description: "3 مجموعات × 15 تكرار",
                video: "https://www.youtube.com/embed/aclHkVaku9U",
                image: "https://i.ytimg.com/vi/aclHkVaku9U/hqdefault.jpg",
                instructions: "1. قف بشكل مستقيم\n2. اخفض جسمك ببطء\n3. حافظ على توازنك\n4. عد إلى وضع البداية",
                caloriesPerMinute: 6,
                sets: 3,
                reps: 15,
                restTime: 60,
                targetMuscles: ["الأرجل", "الأرداف", "أسفل الظهر"]
            },
            {
                id: 3,
                name: "تمرين العقلة",
                type: "reps",
                description: "3 مجموعات × 5 تكرار",
                video: "https://www.youtube.com/embed/eGo4IYlbE5g",
                image: "https://i.ytimg.com/vi/eGo4IYlbE5g/hqdefault.jpg",
                instructions: "1. امسك القضيب بقبضة واسعة\n2. اسحب جسمك لأعلى\n3. اخفض جسمك ببطء\n4. كرر الحركة",
                caloriesPerMinute: 7,
                sets: 3,
                reps: 5,
                restTime: 90,
                targetMuscles: ["الظهر", "الذراعين", "الأكتاف"]
            },
            {
                id: 4,
                name: "تمرين البنش برس",
                type: "reps",
                description: "3 مجموعات × 10 تكرار",
                video: "https://www.youtube.com/embed/gRVjAtPip0Y",
                image: "https://i.ytimg.com/vi/gRVjAtPip0Y/hqdefault.jpg",
                instructions: "1. استلق على المقعد\n2. اخفض البار إلى صدرك\n3. ادفع البار لأعلى\n4. كرر الحركة",
                caloriesPerMinute: 9,
                sets: 3,
                reps: 10,
                restTime: 90,
                targetMuscles: ["الصدر", "الذراعين"]
            }
        ],
        withoutEquipment: [
            {
                id: 5,
                name: "تمرين الضغط المعدل",
                type: "reps",
                description: "3 مجموعات × 10 تكرار",
                video: "https://www.youtube.com/embed/_l3ySVKYVJ8",
                image: "https://i.ytimg.com/vi/_l3ySVKYVJ8/hqdefault.jpg",
                instructions: "1. ابدأ بوضعية الضغط مع الركبتين على الأرض\n2. اخفض جسمك ببطء\n3. ادفع للأعلى\n4. كرر التمرين",
                caloriesPerMinute: 5,
                sets: 3,
                reps: 10,
                restTime: 45,
                targetMuscles: ["الصدر", "الذراعين"]
            },
            {
                id: 6,
                name: "تمرين القرفصاء بدون أوزان",
                type: "reps",
                description: "3 مجموعات × 15 تكرار",
                video: "https://www.youtube.com/embed/aclHkVaku9U",
                image: "https://i.ytimg.com/vi/aclHkVaku9U/hqdefault.jpg",
                instructions: "1. قف بشكل مستقيم\n2. اخفض جسمك ببطء\n3. حافظ على توازنك\n4. عد إلى وضع البداية",
                caloriesPerMinute: 4,
                sets: 3,
                reps: 15,
                restTime: 45,
                targetMuscles: ["الأرجل", "الأرداف"]
            },
            {
                id: 7,
                name: "تمرين الضغط بيد واحدة",
                type: "reps",
                description: "3 مجموعات × 5 تكرار لكل جانب",
                video: "https://www.youtube.com/embed/8LhQllh46yA",
                image: "https://i.ytimg.com/vi/8LhQllh46yA/hqdefault.jpg",
                instructions: "1. ابدأ بوضعية الضغط\n2. ضع يد واحدة خلف ظهرك\n3. اخفض جسمك ببطء\n4. ادفع للأعلى بيد واحدة",
                caloriesPerMinute: 7,
                sets: 3,
                reps: 5,
                restTime: 60,
                targetMuscles: ["الصدر", "الذراعين", "البطن"]
            },
            {
                id: 8,
                name: "تمرين القرفصاء بالقفز",
                type: "reps",
                description: "3 مجموعات × 12 تكرار",
                video: "https://www.youtube.com/embed/1Tq3QdYUuHs",
                image: "https://i.ytimg.com/vi/1Tq3QdYUuHs/hqdefault.jpg",
                instructions: "1. قف بشكل مستقيم\n2. اخفض جسمك في وضع القرفصاء\n3. اقفز لأعلى بقوة\n4. اهبط ببطء وكرر",
                caloriesPerMinute: 8,
                sets: 3,
                reps: 12,
                restTime: 60,
                targetMuscles: ["الأرجل", "الأرداف"]
            }
        ]
    },
    intermediate: {
        withEquipment: [
            {
                id: 9,
                name: "تمرين العقلة المتقدم",
                type: "reps",
                description: "4 مجموعات × 8 تكرار",
                video: "https://www.youtube.com/embed/eGo4IYlbE5g",
                image: "https://i.ytimg.com/vi/eGo4IYlbE5g/hqdefault.jpg",
                instructions: "1. امسك القضيب بقبضة واسعة\n2. اسحب جسمك لأعلى حتى الذقن\n3. اخفض ببطء\n4. كرر",
                caloriesPerMinute: 10,
                sets: 4,
                reps: 8,
                restTime: 90,
                targetMuscles: ["الظهر", "الذراعين", "الأكتاف"]
            },
            {
                id: 10,
                name: "تمرين البنش برس الثقيل",
                type: "reps",
                description: "4 مجموعات × 8 تكرار",
                video: "https://www.youtube.com/embed/gRVjAtPip0Y",
                image: "https://i.ytimg.com/vi/gRVjAtPip0Y/hqdefault.jpg",
                instructions: "1. استلق على المقعد\n2. اخفض البار ببطء\n3. ادفع لأعلى بقوة\n4. كرر",
                caloriesPerMinute: 12,
                sets: 4,
                reps: 8,
                restTime: 90,
                targetMuscles: ["الصدر", "الذراعين"]
            },
            {
                id: 11,
                name: "تمرين السكوات بالأوزان",
                type: "reps",
                description: "4 مجموعات × 10 تكرار",
                video: "https://www.youtube.com/embed/aclHkVaku9U",
                image: "https://i.ytimg.com/vi/aclHkVaku9U/hqdefault.jpg",
                instructions: "1. قف مع حمل الأوزان\n2. اخفض جسمك ببطء\n3. حافظ على الظهر مستقيم\n4. عد لأعلى",
                caloriesPerMinute: 11,
                sets: 4,
                reps: 10,
                restTime: 75,
                targetMuscles: ["الأرجل", "الأرداف"]
            },
            {
                id: 12,
                name: "تمرين الديدليفت",
                type: "reps",
                description: "4 مجموعات × 8 تكرار",
                video: "https://www.youtube.com/embed/1XugaMzVYAY",
                image: "https://i.ytimg.com/vi/1XugaMzVYAY/hqdefault.jpg",
                instructions: "1. قف مع حمل البار\n2. اخفض بثني الركبتين\n3. ارفع البار بظهر مستقيم\n4. كرر",
                caloriesPerMinute: 13,
                sets: 4,
                reps: 8,
                restTime: 90,
                targetMuscles: ["الظهر", "الأرجل"]
            }
        ],
        withoutEquipment: [
            {
                id: 13,
                name: "تمرين الضغط بيد واحدة",
                type: "reps",
                description: "4 مجموعات × 6 تكرار لكل جانب",
                video: "https://www.youtube.com/embed/8LhQllh46yA",
                image: "https://i.ytimg.com/vi/8LhQllh46yA/hqdefault.jpg",
                instructions: "1. ابدأ بوضعية الضغط\n2. ضع يد واحدة خلف ظهرك\n3. اخفض جسمك ببطء\n4. ادفع للأعلى بيد واحدة",
                caloriesPerMinute: 9,
                sets: 4,
                reps: 6,
                restTime: 60,
                targetMuscles: ["الصدر", "الذراعين", "البطن"]
            },
            {
                id: 14,
                name: "تمرين القرفصاء بالقفز",
                type: "reps",
                description: "4 مجموعات × 15 تكرار",
                video: "https://www.youtube.com/embed/1Tq3QdYUuHs",
                image: "https://i.ytimg.com/vi/1Tq3QdYUuHs/hqdefault.jpg",
                instructions: "1. قف بشكل مستقيم\n2. اخفض جسمك في وضع القرفصاء\n3. اقفز لأعلى بقوة\n4. اهبط ببطء وكرر",
                caloriesPerMinute: 10,
                sets: 4,
                reps: 15,
                restTime: 60,
                targetMuscles: ["الأرجل", "الأرداف"]
            },
            {
                id: 15,
                name: "تمرين الضغط مع رفع اليد",
                type: "reps",
                description: "4 مجموعات × 10 تكرار",
                video: "https://www.youtube.com/embed/UhfQ5ajOPqU",
                image: "https://i.ytimg.com/vi/UhfQ5ajOPqU/hqdefault.jpg",
                instructions: "1. ابدأ بوضعية الضغط\n2. اخفض جسمك\n3. ادفع لأعلى وارفع يد واحدة\n4. عد للوضعية وكرر",
                caloriesPerMinute: 8,
                sets: 4,
                reps: 10,
                restTime: 60,
                targetMuscles: ["الصدر", "الذراعين", "البطن"]
            },
            {
                id: 16,
                name: "تمرين القرفصاء البلغاري",
                type: "reps",
                description: "4 مجموعات × 12 تكرار لكل رجل",
                video: "https://www.youtube.com/embed/2C-uNgKwPLE",
                image: "https://i.ytimg.com/vi/2C-uNgKwPLE/hqdefault.jpg",
                instructions: "1. قف مع رفع رجل واحدة للخلف\n2. اخفض جسمك ببطء\n3. عد لأعلى\n4. كرر لكل رجل",
                caloriesPerMinute: 9,
                sets: 4,
                reps: 12,
                restTime: 60,
                targetMuscles: ["الأرجل", "الأرداف"]
            }
        ]
    }
};

// ============ Nutrition Plans ============
const nutritionPlans = {
    sameMeals: {
        low: [
            {
                day: 1,
                breakfast: "شوفان مع موز وزبدة فول سوداني",
                breakfastCalories: 450,
                morningSnack: "بيض مسلوق وجزر",
                morningSnackCalories: 200,
                lunch: "أرز مع فاصوليا وخضروات مشكلة",
                lunchCalories: 600,
                afternoonSnack: "زبادي يوناني مع عسل",
                afternoonSnackCalories: 250,
                dinner: "صدر دجاج مع بطاطا حلوة وبروكلي",
                dinnerCalories: 500,
                totalCalories: 2000
            }
        ],
        middle: [
            {
                day: 1,
                breakfast: "بيض مخفوق مع خبز توست وأفوكادو",
                breakfastCalories: 500,
                morningSnack: "مشروب بروتين مع حليب لوز",
                morningSnackCalories: 250,
                lunch: "سمك مشوي مع كينوا وهليون",
                lunchCalories: 600,
                afternoonSnack: "جبنة قريش مع توت",
                afternoonSnackCalories: 200,
                dinner: "لحم بقري خالي من الدهون مع أرز بني وفاصوليا خضراء",
                dinnerCalories: 450,
                totalCalories: 2000
            }
        ],
        high: [
            {
                day: 1,
                breakfast: "أومليت سمك السلمون المدخن مع سبانخ وفيتا",
                breakfastCalories: 550,
                morningSnack: "سموذي بروتين مع مصل اللبن وزبدة لوز وتوت",
                morningSnackCalories: 350,
                lunch: "سلطة دجاج مشوي مع كينوا وأفوكادو ومكسرات",
                lunchCalories: 600,
                afternoonSnack: "زبادي يوناني مع جرانولا وبذور شيا",
                afternoonSnackCalories: 300,
                dinner: "شريحة لحم فيليه مع خضروات مشوية وبطاطا حلوة مهروسة",
                dinnerCalories: 500,
                totalCalories: 2300
            }
        ]
    },
    variedMeals: {
        low: Array(30).fill().map((_, day) => ({
            day: day + 1,
            breakfast: `وجبة الفطور ${day + 1}: شوفان مع فواكه ومكسرات`,
            breakfastCalories: 400 + Math.floor(Math.random() * 100),
            morningSnack: `وجبة خفيفة صباحية ${day + 1}: خضروات ولبنة`,
            morningSnackCalories: 150 + Math.floor(Math.random() * 100),
            lunch: `وجبة الغداء ${day + 1}: أرز مع خضار وبروتين`,
            lunchCalories: 500 + Math.floor(Math.random() * 200),
            afternoonSnack: `وجبة خفيفة مسائية ${day + 1}: فواكه وزبادي`,
            afternoonSnackCalories: 200 + Math.floor(Math.random() * 100),
            dinner: `وجبة العشاء ${day + 1}: شوربة وسلطة وبروتين`,
            dinnerCalories: 450 + Math.floor(Math.random() * 150),
            totalCalories: 2000
        })),
        middle: Array(30).fill().map((_, day) => ({
            day: day + 1,
            breakfast: `وجبة الفطور ${day + 1}: عجة مع خبز توست كامل`,
            breakfastCalories: 450 + Math.floor(Math.random() * 150),
            morningSnack: `وجبة خفيفة صباحية ${day + 1}: سموذي بروتين`,
            morningSnackCalories: 200 + Math.floor(Math.random() * 100),
            lunch: `وجبة الغداء ${day + 1}: بروتين مع كربوهيدرات معقدة`,
            lunchCalories: 550 + Math.floor(Math.random() * 200),
            afternoonSnack: `وجبة خفيفة مسائية ${day + 1}: مكسرات وفواكه`,
            afternoonSnackCalories: 250 + Math.floor(Math.random() * 100),
            dinner: `وجبة العشاء ${day + 1}: بروتين خفيف مع خضروات`,
            dinnerCalories: 500 + Math.floor(Math.random() * 150),
            totalCalories: 2200
        })),
        high: Array(30).fill().map((_, day) => ({
            day: day + 1,
            breakfast: `وجبة الفطور ${day + 1}: أفوكادو توست مع بيض وسلمون`,
            breakfastCalories: 500 + Math.floor(Math.random() * 200),
            morningSnack: `وجبة خفيفة صباحية ${day + 1}: عصير أخضر مع بروتين`,
            morningSnackCalories: 300 + Math.floor(Math.random() * 100),
            lunch: `وجبة الغداء ${day + 1}: بروتين عضوي مع كينوا`,
            lunchCalories: 600 + Math.floor(Math.random() * 200),
            afternoonSnack: `وجبة خفيفة مسائية ${day + 1}: شوكولاتة داكنة ولوز`,
            afternoonSnackCalories: 300 + Math.floor(Math.random() * 100),
            dinner: `وجبة العشاء ${day + 1}: ستيك مع خضروات عضوية`,
            dinnerCalories: 550 + Math.floor(Math.random() * 200),
            totalCalories: 2500
        }))
    }
};
    </script>
</body>
</html>