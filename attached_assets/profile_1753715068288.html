<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Your Profile | Training Club</title>
    <style>
        :root {
            --primary: #4a6bff;
            --secondary: #ff6b6b;
            --dark: #333;
            --light: #f5f5f5;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .profile-form {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin: 30px 0;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border 0.3s ease;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 12px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
        }
        
        .btn:hover {
            background-color: #3a5bef;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .fitness-levels {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .fitness-level {
            flex: 1;
            min-width: 120px;
        }
        
        .fitness-level input {
            display: none;
        }
        
        .fitness-level label {
            display: block;
            padding: 12px;
            background: #f5f5f5;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .fitness-level input:checked + label {
            background-color: var(--primary);
            color: white;
        }
        
        .goals-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .goal-option {
            position: relative;
        }
        
        .goal-option input {
            display: none;
        }
        
        .goal-option label {
            display: block;
            padding: 12px;
            background: #f5f5f5;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .goal-option input:checked + label {
            background-color: var(--primary);
            color: white;
        }
        
        .time-preference {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .time-option {
            position: relative;
        }
        
        .time-option input {
            display: none;
        }
        
        .time-option label {
            display: block;
            padding: 12px;
            background: #f5f5f5;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .time-option input:checked + label {
            background-color: var(--primary);
            color: white;
        }
        
        .economic-level {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .economic-option {
            position: relative;
        }
        
        .economic-option input {
            display: none;
        }
        
        .economic-option label {
            display: block;
            padding: 12px;
            background: #f5f5f5;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .economic-option input:checked + label {
            background-color: var(--primary);
            color: white;
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            background-color: var(--dark);
            color: white;
            border-radius: 20px 20px 0 0;
        }
        
        .notification-center {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            width: 300px;
        }
        
        .notification {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            animation: slideIn 0.5s forwards;
            position: relative;
            overflow: hidden;
        }
        
        .notification::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 4px;
            background: var(--primary);
        }
        
        .notification-success::after {
            background: var(--success);
        }
        
        .notification-warning::after {
            background: var(--warning);
        }
        
        .notification-danger::after {
            background: var(--danger);
        }
        
        .notification-icon {
            font-size: 1.5rem;
            margin-right: 15px;
        }
        
        .notification-content h3 {
            margin-bottom: 5px;
            font-size: 1rem;
        }
        
        .notification-content p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .notification-close {
            margin-left: auto;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 1.2rem;
            opacity: 0.7;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .fitness-levels {
                flex-direction: column;
            }
            
            .goals-container, .time-preference, .economic-level {
                grid-template-columns: 1fr;
            }
            
            .notification-center {
                width: 90%;
                left: 5%;
                right: auto;
                top: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="notification-center" id="notificationCenter"></div>
    
    <header>
        <div class="container">
            <h1>Create Your Profile</h1>
            <p>Tell us about yourself to get your personalized plan</p>
        </div>
    </header>
    
    <div class="container">
        <form id="profileForm" class="profile-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text" id="firstName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="lastName">Last Name</label>
                    <input type="text" id="lastName" class="form-control" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="age">Age</label>
                <input type="number" id="age" class="form-control" min="12" max="100" required>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="height">Height (cm)</label>
                    <input type="number" id="height" class="form-control" min="100" max="250" required>
                </div>
                <div class="form-group">
                    <label for="weight">Weight (kg)</label>
                    <input type="number" id="weight" class="form-control" min="30" max="200" step="0.1" required>
                </div>
            </div>
            
            <div class="form-group">
                <label>Gender</label>
                <select id="gender" class="form-control" required>
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Fitness Level</label>
                <div class="fitness-levels">
                    <div class="fitness-level">
                        <input type="radio" id="beginner" name="fitnessLevel" value="beginner" required>
                        <label for="beginner">Beginner</label>
                    </div>
                    <div class="fitness-level">
                        <input type="radio" id="intermediate" name="fitnessLevel" value="intermediate">
                        <label for="intermediate">Intermediate</label>
                    </div>
                    <div class="fitness-level">
                        <input type="radio" id="advanced" name="fitnessLevel" value="advanced">
                        <label for="advanced">Advanced</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label>Your Primary Goal</label>
                <div class="goals-container">
                    <div class="goal-option">
                        <input type="radio" id="weightLoss" name="goal" value="weightLoss" required>
                        <label for="weightLoss">Weight Loss</label>
                    </div>
                    <div class="goal-option">
                        <input type="radio" id="muscleGain" name="goal" value="muscleGain">
                        <label for="muscleGain">Muscle Gain</label>
                    </div>
                    <div class="goal-option">
                        <input type="radio" id="endurance" name="goal" value="endurance">
                        <label for="endurance">Endurance</label>
                    </div>
                    <div class="goal-option">
                        <input type="radio" id="toning" name="goal" value="toning">
                        <label for="toning">Toning</label>
                    </div>
                    <div class="goal-option">
                        <input type="radio" id="health" name="goal" value="health">
                        <label for="health">General Health</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label>Preferred Workout Time</label>
                <div class="time-preference">
                    <div class="time-option">
                        <input type="radio" id="morning" name="workoutTime" value="morning" required>
                        <label for="morning">Morning (6-9 AM)</label>
                    </div>
                    <div class="time-option">
                        <input type="radio" id="afternoon" name="workoutTime" value="afternoon">
                        <label for="afternoon">Afternoon (12-3 PM)</label>
                    </div>
                    <div class="time-option">
                        <input type="radio" id="evening" name="workoutTime" value="evening">
                        <label for="evening">Evening (6-9 PM)</label>
                    </div>
                    <div class="time-option">
                        <input type="radio" id="flexible" name="workoutTime" value="flexible">
                        <label for="flexible">Flexible</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="activityLevel">Daily Activity Level</label>
                <select id="activityLevel" class="form-control" required>
                    <option value="">Select Activity Level</option>
                    <option value="sedentary">Sedentary (little or no exercise)</option>
                    <option value="light">Lightly active (light exercise 1-3 days/week)</option>
                    <option value="moderate">Moderately active (moderate exercise 3-5 days/week)</option>
                    <option value="active">Very active (hard exercise 6-7 days/week)</option>
                    <option value="extreme">Extremely active (very hard exercise & physical job)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="equipment">Available Equipment</label>
                <select id="equipment" class="form-control" multiple>
                    <option value="none">None (bodyweight only)</option>
                    <option value="dumbbells">Dumbbells</option>
                    <option value="barbell">Barbell</option>
                    <option value="kettlebells">Kettlebells</option>
                    <option value="resistanceBands">Resistance Bands</option>
                    <option value="pullUpBar">Pull-up Bar</option>
                    <option value="yogaMat">Yoga Mat</option>
                    <option value="treadmill">Treadmill</option>
                    <option value="stationaryBike">Stationary Bike</option>
                    <option value="fullGym">Full Gym Access</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Economic Level for Diet</label>
                <div class="economic-level">
                    <div class="economic-option">
                        <input type="radio" id="lowBudget" name="economicLevel" value="low" required>
                        <label for="lowBudget">Low Budget</label>
                    </div>
                    <div class="economic-option">
                        <input type="radio" id="mediumBudget" name="economicLevel" value="medium">
                        <label for="mediumBudget">Medium Budget</label>
                    </div>
                    <div class="economic-option">
                        <input type="radio" id="highBudget" name="economicLevel" value="high">
                        <label for="highBudget">High Budget</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="injuries">Any Injuries or Health Conditions?</label>
                <textarea id="injuries" class="form-control" rows="3" placeholder="List any injuries or health conditions we should be aware of..."></textarea>
            </div>
            
            <button type="submit" class="btn btn-block">Generate My Plan</button>
        </form>
    </div>
    
    <footer>
        <div class="container">
            <p>&copy; 2023 Training Club. All rights reserved.</p>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
    // Function to show notifications
    function showNotification(title, message, type = 'info') {
        const notificationCenter = document.getElementById('notificationCenter');
        const notification = document.createElement('div');
        notification.className = `notification notification-${type}`;
        
        let icon = 'ℹ️';
        if (type === 'success') icon = '✅';
        if (type === 'warning') icon = '⚠️';
        if (type === 'danger') icon = '❌';
        
        notification.innerHTML = `
            <div class="notification-icon">${icon}</div>
            <div class="notification-content">
                <h3>${title}</h3>
                <p>${message}</p>
            </div>
            <button class="notification-close">&times;</button>
        `;
        
        notification.querySelector('.notification-close').addEventListener('click', () => {
            notification.remove();
        });
        
        setTimeout(() => {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 5000);
        
        notificationCenter.appendChild(notification);
    }

    // Form validation function
    function validateForm() {
        let isValid = true;
        
        // Required text fields
        const requiredFields = ['firstName', 'lastName', 'age', 'height', 'weight'];
        requiredFields.forEach(fieldId => {
            const field = document.getElementById(fieldId);
            if (!field.value.trim()) {
                showNotification('Required Field', `Please enter ${field.labels[0].textContent}`, 'danger');
                field.focus();
                isValid = false;
            }
        });

        // Required selects
        const requiredSelects = ['gender', 'activityLevel'];
        requiredSelects.forEach(fieldId => {
            const field = document.getElementById(fieldId);
            if (!field.value) {
                showNotification('Required Field', `Please select ${field.labels[0].textContent}`, 'danger');
                field.focus();
                isValid = false;
            }
        });

        // Radio button groups
        const radioGroups = ['fitnessLevel', 'goal', 'workoutTime', 'economicLevel'];
        radioGroups.forEach(group => {
            if (!document.querySelector(`input[name="${group}"]:checked`)) {
                showNotification('Required Field', `Please select ${group}`, 'danger');
                isValid = false;
            }
        });

        return isValid;
    }

    // Collect form data
    function collectFormData() {
        return {
            firstName: document.getElementById('firstName').value.trim(),
            lastName: document.getElementById('lastName').value.trim(),
            age: parseInt(document.getElementById('age').value),
            height: parseInt(document.getElementById('height').value),
            weight: parseFloat(document.getElementById('weight').value),
            gender: document.getElementById('gender').value,
            fitnessLevel: document.querySelector('input[name="fitnessLevel"]:checked').value,
            goal: document.querySelector('input[name="goal"]:checked').value,
            workoutTime: document.querySelector('input[name="workoutTime"]:checked').value,
            activityLevel: document.getElementById('activityLevel').value,
            equipment: Array.from(document.getElementById('equipment').selectedOptions).map(opt => opt.value),
            economicLevel: document.querySelector('input[name="economicLevel"]:checked').value,
            injuries: document.getElementById('injuries').value.trim(),
            createdAt: new Date().toISOString()
        };
    }

    // Validate user data
    function validateUserData(data) {
        if (isNaN(data.age) || data.age < 12 || data.age > 100) {
            showNotification('Error', 'Age must be between 12 and 100 years', 'danger');
            return false;
        }
        
        if (isNaN(data.height) || data.height < 100 || data.height > 250) {
            showNotification('Error', 'Height must be between 100 and 250 cm', 'danger');
            return false;
        }
        
        if (isNaN(data.weight) || data.weight < 30 || data.weight > 200) {
            showNotification('Error', 'Weight must be between 30 and 200 kg', 'danger');
            return false;
        }
        
        return true;
    }

    // Save data and redirect
    async function saveAndRedirect(userData) {
        try {
            // Save to localStorage
            localStorage.setItem('userProfile', JSON.stringify(userData));
            
            // Show success message
            showNotification('Success', 'Redirecting to your plan...', 'success');
            
            // Wait a moment so user sees the notification
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            // Redirect to plan page
            window.location.href = 'plan.html';
            
        } catch (error) {
            console.error('Error:', error);
            showNotification('Error', 'Failed to save your profile', 'danger');
        }
    }

    // Form submission handler
    document.getElementById('profileForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        console.log('Form submitted'); // Debug log
        
        // 1. Validate form
        if (!validateForm()) {
            console.log('Form validation failed');
            return;
        }
        
        // 2. Collect data
        const userProfile = collectFormData();
        console.log('Collected data:', userProfile); // Debug log
        
        // 3. Validate data
        if (!validateUserData(userProfile)) {
            console.log('Data validation failed');
            return;
        }
        
        // 4. Save and redirect
        console.log('Attempting to save and redirect'); // Debug log
        await saveAndRedirect(userProfile);
    });

    // Debug: Check if this script is loaded
    console.log('Profile form script loaded');
});

    </script>
</body>
</html>